(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[365],{1579:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>y});var t=s(5155),r=s(2115),l=s(5695),i=s(285),n=s(6695),o=s(2523),d=s(5057),c=s(7313),m=s(9409),g=s(3999),u=s(7481),x=s(5731),h=s(1007),p=s(8883),b=s(2919),f=s(8749),v=s(2657),j=s(2318);function y(){let e=(0,l.useRouter)(),{login:a}=(0,g.A)(),{toast:s}=(0,u.dj)(),[y,N]=(0,r.useState)(!1),[w,k]=(0,r.useState)(!1),[A,C]=(0,r.useState)({email:"",password:""}),[S,P]=(0,r.useState)({name:"",email:"",password:"",role:""}),F=async t=>{t.preventDefault(),N(!0);try{let t=await (0,x.FQ)({action:"login",data:A});if(t.success){a(t.user),s({title:"Login berhasil",description:"Selamat datang kembali!"});let r="buyer"===t.user.role?"/buyer":"/seller";e.push(r)}else s({title:"Login gagal",description:t.message||"Email atau password salah",variant:"destructive"})}catch(e){console.error("Login error:",e),s({title:"Login gagal",description:"Periksa koneksi internet dan coba lagi",variant:"destructive"})}finally{N(!1)}},R=async e=>{e.preventDefault(),N(!0);try{let e=await (0,x.FQ)({action:"register",data:S});e.success?(s({title:"Registrasi berhasil",description:"Anda sekarang dapat login dengan akun baru"}),P({name:"",email:"",password:"",role:""})):s({title:"Registrasi gagal",description:e.message||"Silakan coba lagi",variant:"destructive"})}catch(e){console.error("Registration error:",e),s({title:"Registrasi gagal",description:"Periksa koneksi internet dan coba lagi",variant:"destructive"})}finally{N(!1)}};return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-green-500 to-blue-500 rounded-2xl flex items-center justify-center mb-6",children:(0,t.jsx)(h.A,{className:"h-8 w-8 text-white"})}),(0,t.jsx)("h2",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Selamat Datang di EcoMarket"}),(0,t.jsx)("p",{className:"text-lg text-gray-600",children:"Bergabung dengan marketplace berkelanjutan"})]}),(0,t.jsx)(n.Zp,{className:"shadow-2xl border-0 bg-white/80 backdrop-blur-sm",children:(0,t.jsx)(n.Wu,{className:"p-0",children:(0,t.jsxs)(c.tU,{defaultValue:"login",className:"w-full",children:[(0,t.jsxs)(c.j7,{className:"grid w-full grid-cols-2 p-1 bg-gray-100 rounded-t-lg",children:[(0,t.jsx)(c.Xi,{value:"login",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm font-semibold",children:"Login"}),(0,t.jsx)(c.Xi,{value:"register",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm font-semibold",children:"Daftar"})]}),(0,t.jsxs)(c.av,{value:"login",className:"p-6",children:[(0,t.jsxs)("div",{className:"space-y-2 mb-6",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Masuk"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Masukkan kredensial Anda untuk mengakses akun"})]}),(0,t.jsxs)("form",{onSubmit:F,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"login-email",className:"text-sm font-semibold text-gray-700",children:"Email"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(p.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,t.jsx)(o.p,{id:"login-email",type:"email",placeholder:"nama@email.com",value:A.email,onChange:e=>C({...A,email:e.target.value}),className:"pl-10 h-12 border-gray-200 focus:border-green-500",required:!0})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"login-password",className:"text-sm font-semibold text-gray-700",children:"Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(b.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,t.jsx)(o.p,{id:"login-password",type:w?"text":"password",placeholder:"Masukkan password",value:A.password,onChange:e=>C({...A,password:e.target.value}),className:"pl-10 pr-10 h-12 border-gray-200 focus:border-green-500",required:!0}),(0,t.jsx)("button",{type:"button",onClick:()=>k(!w),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:w?(0,t.jsx)(f.A,{className:"h-5 w-5"}):(0,t.jsx)(v.A,{className:"h-5 w-5"})})]})]}),(0,t.jsx)(i.$,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-300",disabled:y,children:y?"Memproses...":"Masuk"})]})]}),(0,t.jsxs)(c.av,{value:"register",className:"p-6",children:[(0,t.jsxs)("div",{className:"space-y-2 mb-6",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Daftar"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Buat akun baru untuk memulai"})]}),(0,t.jsxs)("form",{onSubmit:R,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"register-name",className:"text-sm font-semibold text-gray-700",children:"Nama Lengkap"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(h.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,t.jsx)(o.p,{id:"register-name",type:"text",placeholder:"Nama lengkap Anda",value:S.name,onChange:e=>P({...S,name:e.target.value}),className:"pl-10 h-12 border-gray-200 focus:border-green-500",required:!0})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"register-email",className:"text-sm font-semibold text-gray-700",children:"Email"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(p.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,t.jsx)(o.p,{id:"register-email",type:"email",placeholder:"nama@email.com",value:S.email,onChange:e=>P({...S,email:e.target.value}),className:"pl-10 h-12 border-gray-200 focus:border-green-500",required:!0})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"register-password",className:"text-sm font-semibold text-gray-700",children:"Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(b.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,t.jsx)(o.p,{id:"register-password",type:w?"text":"password",placeholder:"Buat password yang aman",value:S.password,onChange:e=>P({...S,password:e.target.value}),className:"pl-10 pr-10 h-12 border-gray-200 focus:border-green-500",required:!0}),(0,t.jsx)("button",{type:"button",onClick:()=>k(!w),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:w?(0,t.jsx)(f.A,{className:"h-5 w-5"}):(0,t.jsx)(v.A,{className:"h-5 w-5"})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"register-role",className:"text-sm font-semibold text-gray-700",children:"Peran"}),(0,t.jsxs)(m.l6,{value:S.role,onValueChange:e=>P({...S,role:e}),children:[(0,t.jsx)(m.bq,{className:"h-12 border-gray-200 focus:border-green-500",children:(0,t.jsx)(m.yv,{placeholder:"Pilih peran Anda"})}),(0,t.jsxs)(m.gC,{children:[(0,t.jsx)(m.eb,{value:"buyer",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(h.A,{className:"h-4 w-4"}),"Pembeli"]})}),(0,t.jsx)(m.eb,{value:"seller",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(j.A,{className:"h-4 w-4"}),"Penjual"]})})]})]})]}),(0,t.jsx)(i.$,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-300",disabled:y,children:y?"Membuat akun...":"Daftar Sekarang"})]})]})]})})})]})})}},7313:(e,a,s)=>{"use strict";s.d(a,{Xi:()=>d,av:()=>c,j7:()=>o,tU:()=>n});var t=s(5155),r=s(2115),l=s(64),i=s(9434);let n=l.bL,o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.B8,{ref:a,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...r})});o.displayName=l.B8.displayName;let d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.l9,{ref:a,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...r})});d.displayName=l.l9.displayName;let c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.UC,{ref:a,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r})});c.displayName=l.UC.displayName},9716:(e,a,s)=>{Promise.resolve().then(s.bind(s,1579))}},e=>{var a=a=>e(e.s=a);e.O(0,[455,977,399,112,732,355,757,441,684,358],()=>a(9716)),_N_E=e.O()}]);