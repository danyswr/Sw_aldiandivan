(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[252],{3103:(e,s,a)=>{Promise.resolve().then(a.bind(a,5326))},5326:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>L});var t=a(5155),l=a(2115),r=a(6715),i=a(2960),n=a(5041),d=a(285),c=a(6695),o=a(6126),m=a(7313),u=a(7108),x=a(4616),g=a(7809),h=a(5868),p=a(3109),j=a(2657),b=a(3717),v=a(3184),f=a(2177),N=a(221),y=a(4165),w=a(2523),k=a(5057),P=a(9434);let S=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("textarea",{className:(0,P.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...l})});S.displayName="Textarea";var A=a(7481),C=a(3999),_=a(5731),D=a(1153);let T=D.z.object({product_name:D.z.string().min(1,"Nama produk wajib diisi"),description:D.z.string().min(10,"Deskripsi minimal 10 karakter"),price:D.z.number().min(.01,"Harga harus lebih dari 0"),stock:D.z.number().min(0,"Stok tidak boleh negatif"),category:D.z.string().min(1,"Kategori wajib dipilih"),image_url:D.z.string().optional(),status:D.z.number().optional()});D.z.object({quantity:D.z.number().min(1,"Jumlah minimal 1"),notes:D.z.string().optional()});var E=a(4416),F=a(9869);function B(e){var s,a,i,c;let{isOpen:o,onClose:m,product:u}=e,{toast:x}=(0,A.dj)(),{user:g}=(0,C.A)(),h=(0,r.jE)(),[p,j]=(0,l.useState)(""),[b,v]=(0,l.useState)(null),P=!!u,D=(0,f.mN)({resolver:(0,N.u)(T),defaultValues:{product_name:"",description:"",price:0,stock:0,category:"",status:1}});(0,l.useEffect)(()=>{P&&u?(D.reset({product_name:u[2]||"",description:u[4]||"",price:u[5]||0,stock:u[6]||0,category:u[7]||"",status:u[8]||1}),u[3]&&j(u[3])):(D.reset({product_name:"",description:"",price:0,stock:0,category:"",status:1}),j(""),v(null))},[P,u,D]);let B=(0,n.n)({mutationFn:async e=>{console.log("Product mutation data:",e),console.log("Is edit mode:",P),console.log("Product data:",u);let s={email:null==g?void 0:g.email,action:P?"update":"create",data:{product_name:e.product_name,description:e.description,price:Number(e.price),stock:Number(e.stock),category:e.category,status:e.status||1}};if(P&&u&&(s.product_id=u[0],console.log("Setting product_id for update:",u[0])),b){let e=await (0,_.bB)(b);s.data.imageData=e.split(",")[1],s.data.mimeType=b.type,s.data.fileName=b.name,console.log("Adding image data to request")}return console.log("Final API payload for products:",s),(0,_.FQ)(s,"products")},onSuccess:e=>{console.log("Product save response:",e),e.success?(x({title:P?"Produk berhasil diupdate!":"Produk berhasil ditambahkan!",description:"Perubahan telah disimpan"}),h.invalidateQueries({queryKey:["/api/products"]}),m()):(console.error("Product save failed:",e.error),x({title:"Gagal menyimpan produk",description:e.error||"Terjadi kesalahan. Pastikan Google Apps Script sudah diperbarui.",variant:"destructive"}))},onError:e=>{console.error("Product save error:",e),x({title:"Gagal menyimpan produk",description:"Terjadi kesalahan saat menyimpan produk",variant:"destructive"})}}),z=D.handleSubmit(e=>{B.mutate(e)}),$=()=>{D.reset(),j(""),v(null),m()};return(0,t.jsx)(y.lG,{open:o,onOpenChange:$,children:(0,t.jsxs)(y.Cf,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)(y.c7,{children:(0,t.jsx)(y.L3,{children:P?"Edit Produk":"Tambah Produk"})}),(0,t.jsxs)("form",{onSubmit:z,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(k.J,{htmlFor:"product_name",children:"Nama Produk"}),(0,t.jsx)(w.p,{id:"product_name",...D.register("product_name"),error:null==(s=D.formState.errors.product_name)?void 0:s.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(k.J,{htmlFor:"product-image",children:"Gambar Produk"}),(0,t.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6",children:[p?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("img",{src:p,alt:"Preview",className:"mx-auto max-h-48 rounded-lg object-cover"}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsxs)(d.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{v(null),j("");let e=document.getElementById("product-image");e&&(e.value="")},className:"text-red-600 hover:text-red-700",children:[(0,t.jsx)(E.A,{className:"h-4 w-4 mr-1"}),"Hapus Gambar"]})})]}):(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(F.A,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),(0,t.jsx)("p",{className:"text-gray-600 mb-2",children:"Klik untuk upload gambar"}),(0,t.jsx)(d.$,{type:"button",variant:"outline",onClick:()=>{var e;return null==(e=document.getElementById("product-image"))?void 0:e.click()},children:"Pilih File"})]}),(0,t.jsx)("input",{id:"product-image",type:"file",accept:"image/*",className:"hidden",onChange:e=>{var s;let a=null==(s=e.target.files)?void 0:s[0];if(a){v(a);let e=new FileReader;e.onload=e=>{var s;j(null==(s=e.target)?void 0:s.result)},e.readAsDataURL(a)}}})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(k.J,{htmlFor:"description",children:"Deskripsi"}),(0,t.jsx)(S,{id:"description",rows:4,...D.register("description")})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(k.J,{htmlFor:"price",children:"Harga (Rp)"}),(0,t.jsx)(w.p,{id:"price",type:"number",min:"0",...D.register("price",{valueAsNumber:!0}),error:null==(a=D.formState.errors.price)?void 0:a.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(k.J,{htmlFor:"stock",children:"Stok"}),(0,t.jsx)(w.p,{id:"stock",type:"number",min:"0",...D.register("stock",{valueAsNumber:!0}),error:null==(i=D.formState.errors.stock)?void 0:i.message})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(k.J,{htmlFor:"category",children:"Kategori"}),(0,t.jsx)(w.p,{id:"category",...D.register("category"),error:null==(c=D.formState.errors.category)?void 0:c.message})]}),(0,t.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,t.jsx)(d.$,{type:"submit",className:"flex-1",disabled:B.isPending,children:B.isPending?"Menyimpan...":P?"Update Produk":"Simpan Produk"}),(0,t.jsx)(d.$,{type:"button",variant:"outline",onClick:$,disabled:B.isPending,children:"Batal"})]})]})]})})}var z=a(7814),$=a(9409);let R=[{value:"pending",label:"Pending",color:"bg-yellow-500"},{value:"confirmed",label:"Confirmed",color:"bg-blue-500"},{value:"processing",label:"Processing",color:"bg-purple-500"},{value:"shipped",label:"Shipped",color:"bg-orange-500"},{value:"delivered",label:"Delivered",color:"bg-green-500"},{value:"cancelled",label:"Cancelled",color:"bg-red-500"}];function Z(e){let{isOpen:s,onClose:a,order:i}=e,{toast:c}=(0,A.dj)(),{user:m}=(0,C.A)(),u=(0,r.jE)(),[x,g]=(0,l.useState)((null==i?void 0:i[6])||"pending");if(!i)return null;let h=i[0],p=i[1];i[2],i[3];let j=i[4],b=i[5],v=i[6];i[7];let f=(0,n.n)({mutationFn:async e=>{let s={email:null==m?void 0:m.email,action:"update",order_id:h,data:{order_status:e}};return(0,_.FQ)(s,"orders")},onSuccess:e=>{e.success?(c({title:"Status pesanan berhasil diupdate!",description:"Status pesanan diubah menjadi ".concat(x)}),u.invalidateQueries({queryKey:["/api/orders"]}),a()):c({title:"Gagal mengupdate status pesanan",description:e.error||"Terjadi kesalahan",variant:"destructive"})},onError:()=>{c({title:"Gagal mengupdate status pesanan",description:"Terjadi kesalahan koneksi",variant:"destructive"})}});return(0,t.jsx)(y.lG,{open:s,onOpenChange:a,children:(0,t.jsxs)(y.Cf,{className:"sm:max-w-md",children:[(0,t.jsx)(y.c7,{children:(0,t.jsx)(y.L3,{children:"Update Status Pesanan"})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-600",children:"Order ID:"}),(0,t.jsx)("p",{className:"font-mono text-xs break-all",children:h})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-600",children:"Pembeli:"}),(0,t.jsx)("p",{children:p})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-600",children:"Jumlah:"}),(0,t.jsxs)("p",{children:[j," item"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-600",children:"Total:"}),(0,t.jsxs)("p",{children:["Rp ",null==b?void 0:b.toLocaleString("id-ID")]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-600",children:"Status Saat Ini:"}),(0,t.jsx)("div",{className:"mt-1",children:(e=>{let s=R.find(s=>s.value===e);return(0,t.jsx)(o.E,{className:"".concat((null==s?void 0:s.color)||"bg-gray-500"," text-white"),children:(null==s?void 0:s.label)||e})})(v)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-600",children:"Status Baru:"}),(0,t.jsxs)($.l6,{value:x,onValueChange:g,children:[(0,t.jsx)($.bq,{className:"mt-1",children:(0,t.jsx)($.yv,{placeholder:"Pilih status baru"})}),(0,t.jsx)($.gC,{children:R.map(e=>(0,t.jsx)($.eb,{value:e.value,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e.color)}),e.label]})},e.value))})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,t.jsx)(d.$,{onClick:()=>{if(x===v)return void c({title:"Status tidak berubah",description:"Pilih status yang berbeda untuk mengupdate",variant:"destructive"});f.mutate(x)},disabled:f.isPending,className:"flex-1",children:f.isPending?"Mengupdate...":"Update Status"}),(0,t.jsx)(d.$,{variant:"outline",onClick:a,disabled:f.isPending,children:"Batal"})]})]})]})})}function L(){let{user:e}=(0,C.A)(),{toast:s}=(0,A.dj)(),a=(0,r.jE)(),[f,N]=(0,l.useState)(!1),[y,w]=(0,l.useState)(null),[k,P]=(0,l.useState)(null),[S,D]=(0,l.useState)(null),[T,E]=(0,l.useState)(!1),[F,$]=(0,l.useState)(!1),{data:R=[],isLoading:L}=(0,i.I)({queryKey:["seller-products",null==e?void 0:e.email],queryFn:async()=>{let s=await (0,_.FQ)({action:"read",table:"products",filters:{seller_email:null==e?void 0:e.email}});return s.success?s.data:[]},enabled:!!(null==e?void 0:e.email)}),{data:I=[],isLoading:K}=(0,i.I)({queryKey:["seller-orders",null==e?void 0:e.email],queryFn:async()=>{let s=await (0,_.FQ)({action:"read",table:"orders",filters:{seller_email:null==e?void 0:e.email}});return s.success?s.data:[]},enabled:!!(null==e?void 0:e.email)}),G=(0,n.n)({mutationFn:async e=>await (0,_.FQ)({action:"delete",table:"products",id:e}),onSuccess:()=>{a.invalidateQueries({queryKey:["seller-products"]}),s({title:"Produk berhasil dihapus",description:"Produk telah berhasil dihapus dari toko Anda."})},onError:()=>{s({title:"Gagal menghapus produk",description:"Tidak dapat menghapus produk. Silakan coba lagi.",variant:"destructive"})}}),q=e=>{w(e),N(!0)},J=e=>{confirm("Apakah Anda yakin ingin menghapus produk ini?")&&G.mutate(e)},O=()=>{w(null),N(!0)},U=e=>{let s=e[2],a=R.find(e=>e[0]===s);P(e),D(a||null),E(!0)},W=e=>{P(e),$(!0)},Q=e=>{switch(null==e?void 0:e.toLowerCase()){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},H=e=>{try{return new Date(e).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})}catch(s){return e}},M=R.length,V=R.filter(e=>1===e[8]).length,X=I.length,Y=I.reduce((e,s)=>e+(parseFloat(s[5])||0),0);return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-8 border border-blue-100",children:(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:[(0,t.jsx)(u.A,{className:"inline-block w-8 h-8 mr-3 text-blue-600"}),"Dashboard Penjual"]}),(0,t.jsx)("p",{className:"text-lg text-gray-600",children:"Kelola produk dan pesanan Anda"})]}),(0,t.jsx)("div",{className:"mt-6 lg:mt-0",children:(0,t.jsxs)(d.$,{onClick:O,size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-4 text-lg font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,t.jsx)(x.A,{className:"h-6 w-6 mr-2"}),"Tambah Produk Baru"]})})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsxs)(c.Zp,{className:"bg-gradient-to-br from-white to-blue-50 border-0 shadow-lg hover:shadow-xl transition-all duration-300",children:[(0,t.jsxs)(c.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(c.ZB,{className:"text-sm font-medium text-gray-600",children:"Total Produk"}),(0,t.jsx)(u.A,{className:"h-5 w-5 text-blue-600"})]}),(0,t.jsxs)(c.Wu,{children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:M}),(0,t.jsxs)("p",{className:"text-sm text-blue-600 font-medium",children:[V," aktif"]})]})]}),(0,t.jsxs)(c.Zp,{className:"bg-gradient-to-br from-white to-green-50 border-0 shadow-lg hover:shadow-xl transition-all duration-300",children:[(0,t.jsxs)(c.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(c.ZB,{className:"text-sm font-medium text-gray-600",children:"Total Pesanan"}),(0,t.jsx)(g.A,{className:"h-5 w-5 text-green-600"})]}),(0,t.jsx)(c.Wu,{children:(0,t.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:X})})]}),(0,t.jsxs)(c.Zp,{className:"bg-gradient-to-br from-white to-purple-50 border-0 shadow-lg hover:shadow-xl transition-all duration-300",children:[(0,t.jsxs)(c.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(c.ZB,{className:"text-sm font-medium text-gray-600",children:"Total Pendapatan"}),(0,t.jsx)(h.A,{className:"h-5 w-5 text-purple-600"})]}),(0,t.jsx)(c.Wu,{children:(0,t.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:(0,_.$g)(Y)})})]}),(0,t.jsxs)(c.Zp,{className:"bg-gradient-to-br from-white to-yellow-50 border-0 shadow-lg hover:shadow-xl transition-all duration-300",children:[(0,t.jsxs)(c.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(c.ZB,{className:"text-sm font-medium text-gray-600",children:"Pesanan Pending"}),(0,t.jsx)(p.A,{className:"h-5 w-5 text-yellow-600"})]}),(0,t.jsx)(c.Wu,{children:(0,t.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:I.filter(e=>{var s;return(null==(s=e[6])?void 0:s.toLowerCase())==="pending"}).length})})]})]}),(0,t.jsxs)(m.tU,{defaultValue:"products",className:"w-full",children:[(0,t.jsxs)(m.j7,{className:"grid w-full grid-cols-2 bg-gray-100 p-1 h-12",children:[(0,t.jsx)(m.Xi,{value:"products",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm font-semibold text-lg",children:"Produk Saya"}),(0,t.jsx)(m.Xi,{value:"orders",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm font-semibold text-lg",children:"Kelola Pesanan"})]}),(0,t.jsxs)(m.av,{value:"products",className:"space-y-6 mt-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Produk Saya"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)(o.E,{variant:"secondary",className:"text-lg px-4 py-2",children:[R.length," produk"]}),(0,t.jsxs)(d.$,{onClick:O,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700",children:[(0,t.jsx)(x.A,{className:"h-4 w-4"}),"Tambah Produk"]})]})]}),L?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[void 0,void 0,void 0,void 0].map((e,s)=>(0,t.jsx)(c.Zp,{className:"animate-pulse",children:(0,t.jsxs)(c.Wu,{className:"p-6",children:[(0,t.jsx)("div",{className:"bg-gray-200 h-56 rounded-lg mb-4"}),(0,t.jsx)("div",{className:"bg-gray-200 h-4 rounded mb-2"}),(0,t.jsx)("div",{className:"bg-gray-200 h-4 rounded w-2/3"})]})},s))}):R.length>0?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:R.map((e,s)=>(0,t.jsx)(v.A,{product:e,onEdit:q,onDelete:J,isOwner:!0},"".concat(e[0],"-").concat(s)))}):(0,t.jsx)(c.Zp,{className:"bg-gradient-to-br from-gray-50 to-gray-100",children:(0,t.jsxs)(c.Wu,{className:"flex flex-col items-center justify-center py-16",children:[(0,t.jsx)(u.A,{className:"h-20 w-20 text-gray-400 mb-6"}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Belum ada produk"}),(0,t.jsx)("p",{className:"text-gray-500 text-center max-w-md mb-6 text-lg",children:"Mulai berjualan dengan menambahkan produk pertama Anda. Buat listing yang detail untuk menarik pembeli."}),(0,t.jsxs)(d.$,{onClick:O,size:"lg",className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700",children:[(0,t.jsx)(x.A,{className:"h-5 w-5"}),"Tambah Produk Pertama"]})]})})]}),(0,t.jsxs)(m.av,{value:"orders",className:"space-y-6 mt-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Kelola Pesanan"}),(0,t.jsxs)(o.E,{variant:"secondary",className:"text-lg px-4 py-2",children:[I.length," pesanan"]})]}),K?(0,t.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((e,s)=>(0,t.jsx)(c.Zp,{className:"animate-pulse",children:(0,t.jsxs)(c.Wu,{className:"p-6",children:[(0,t.jsx)("div",{className:"bg-gray-200 h-4 rounded mb-4"}),(0,t.jsx)("div",{className:"bg-gray-200 h-4 rounded w-2/3 mb-2"}),(0,t.jsx)("div",{className:"bg-gray-200 h-4 rounded w-1/3"})]})},s))}):I.length>0?(0,t.jsx)("div",{className:"space-y-4",children:I.map((e,s)=>{let[a,l,r,,i,n,m,u,x]=e,g=R.find(e=>e[0]===r),h=g?g[2]:"Product ".concat(r);return(0,t.jsxs)(c.Zp,{className:"hover:shadow-lg transition-all duration-300 bg-white/80 backdrop-blur-sm",children:[(0,t.jsx)(c.aR,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(c.ZB,{className:"text-xl text-gray-900",children:["Pesanan #",a]}),(0,t.jsxs)(c.BT,{className:"text-gray-600 text-base",children:["Dari: ",l," â€¢ ",H(x)]})]}),(0,t.jsx)(o.E,{className:"".concat(Q(m)," text-sm px-3 py-1"),children:m||"Unknown"})]})}),(0,t.jsxs)(c.Wu,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-gray-900 text-lg",children:h}),(0,t.jsxs)("p",{className:"text-gray-500",children:["Jumlah: ",i]})]}),(0,t.jsx)("div",{children:(0,t.jsx)("p",{className:"font-bold text-xl text-green-600",children:(0,_.$g)(parseFloat(n)||0)})}),(0,t.jsxs)("div",{className:"flex items-center justify-end space-x-3",children:[(0,t.jsxs)(d.$,{variant:"outline",size:"sm",onClick:()=>U(e),className:"flex items-center gap-2",children:[(0,t.jsx)(j.A,{className:"h-4 w-4"}),"Detail"]}),(0,t.jsxs)(d.$,{variant:"outline",size:"sm",onClick:()=>W(e),className:"flex items-center gap-2",children:[(0,t.jsx)(b.A,{className:"h-4 w-4"}),"Update Status"]})]})]}),u&&(0,t.jsx)("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:(0,t.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Catatan Pelanggan:"})," ",u]})})]})]},"".concat(a,"-").concat(s))})}):(0,t.jsx)(c.Zp,{className:"bg-gradient-to-br from-gray-50 to-gray-100",children:(0,t.jsxs)(c.Wu,{className:"flex flex-col items-center justify-center py-16",children:[(0,t.jsx)(g.A,{className:"h-20 w-20 text-gray-400 mb-6"}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Belum ada pesanan"}),(0,t.jsx)("p",{className:"text-gray-500 text-center max-w-md text-lg",children:"Ketika pelanggan memesan produk Anda, pesanan akan muncul di sini."})]})})]})]}),(0,t.jsx)(B,{isOpen:f,onClose:()=>N(!1),product:y}),(0,t.jsx)(z.n,{isOpen:T,onClose:()=>E(!1),order:k,product:S}),(0,t.jsx)(Z,{isOpen:F,onClose:()=>$(!1),order:k})]})}},7313:(e,s,a)=>{"use strict";a.d(s,{Xi:()=>c,av:()=>o,j7:()=>d,tU:()=>n});var t=a(5155),l=a(2115),r=a(64),i=a(9434);let n=r.bL,d=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.B8,{ref:s,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...l})});d.displayName=r.B8.displayName;let c=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.l9,{ref:s,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...l})});c.displayName=r.l9.displayName;let o=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.UC,{ref:s,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...l})});o.displayName=r.UC.displayName},7814:(e,s,a)=>{"use strict";a.d(s,{n:()=>x});var t=a(5155),l=a(4165),r=a(285),i=a(6126),n=a(5731),d=a(5448),c=a(1007),o=a(9074),m=a(7108),u=a(7213);function x(e){let{isOpen:s,onClose:a,order:x,product:g}=e;if(!x||!g)return null;let[h,p,j,b,v,f,N,y]=x,[,,w,k,P,S]=g;return(0,t.jsx)(l.lG,{open:s,onOpenChange:a,children:(0,t.jsxs)(l.Cf,{className:"max-w-lg",children:[(0,t.jsx)(l.c7,{children:(0,t.jsx)(l.L3,{children:"Detail Pesanan"})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(d.A,{className:"h-4 w-4 text-gray-500"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"ID Pesanan:"}),(0,t.jsx)("span",{className:"font-mono text-sm",children:h})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(c.A,{className:"h-4 w-4 text-gray-500"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Pembeli:"}),(0,t.jsx)("span",{className:"text-sm",children:p})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(o.A,{className:"h-4 w-4 text-gray-500"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Tanggal:"}),(0,t.jsx)("span",{className:"text-sm",children:new Date(y).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(m.A,{className:"h-4 w-4 text-gray-500"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Status:"}),(0,t.jsx)(i.E,{className:(e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(N),children:(e=>{switch(e){case"pending":return"Menunggu";case"confirmed":return"Dikonfirmasi";case"cancelled":return"Dibatalkan";default:return e}})(N)})]})]}),(0,t.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"font-semibold mb-3",children:"Detail Produk"}),(0,t.jsxs)("div",{className:"flex space-x-4",children:[(0,t.jsxs)("div",{className:"w-16 h-16 bg-gray-200 rounded-lg overflow-hidden flex-shrink-0",children:[k?(0,t.jsx)("img",{src:k.includes("drive.google.com/uc?")?k.replace("uc?export=view&id=","thumbnail?id=").concat("&sz=w400-h400"):k,alt:w,className:"w-full h-full object-cover",onError:e=>{var s;e.currentTarget.style.display="none",null==(s=e.currentTarget.nextElementSibling)||s.classList.remove("hidden")}}):null,(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center ".concat(k?"hidden":""),children:(0,t.jsx)(u.A,{className:"h-6 w-6 text-gray-400"})})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"font-medium",children:w}),(0,t.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2 mt-1",children:P||"Tidak ada deskripsi"}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Harga satuan: ",(0,n.$g)(S)]})]})]})]}),(0,t.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"font-semibold mb-3",children:"Ringkasan Pesanan"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Jumlah"}),(0,t.jsxs)("span",{className:"text-sm",children:[v," item"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Harga satuan"}),(0,t.jsx)("span",{className:"text-sm",children:(0,n.$g)(S)})]}),(0,t.jsx)("div",{className:"border-t pt-2",children:(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Total"}),(0,t.jsx)("span",{className:"font-semibold text-lg text-primary",children:(0,n.$g)(f)})]})})]})]}),(0,t.jsx)("div",{className:"flex justify-end space-x-2",children:(0,t.jsx)(r.$,{variant:"outline",onClick:a,children:"Tutup"})})]})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[455,977,399,112,12,732,699,719,89,757,620,441,684,358],()=>s(3103)),_N_E=e.O()}]);